<div class="box">
  <div class="content">
    <h2 class="title is-5">이 사이트는 무엇인가요?</h2>
    <p>
      경기도교육청의 학생 건강상태 자가진단을 자동으로 완료해주는 서비스입니다. 사용자의 정보를
      사이트에 등록해두면 매일 새벽 3시에 자동으로 자가진단이 완료됩니다!
    </p>
    <h2 class="title is-5">이 서비스가 왜 필요하죠?</h2>
    <p>
      건강에 이상이 없는 대부분의 친구들이 매일 아침 자가진단을 하느라 시간을 낭비하는 모습을 보고
      모두의 시간을 절약해주기 위해 제작하였습니다.
    </p>
    <h2 class="title is-5">건강에 이상이 있을 경우에는 어떻게 하나요?</h2>
    <p>
      이 서비스는 매일 새벽 3시에 자동으로 자가진단을 진행합니다. 만약 건강에 이상이 있으시다면 새벽
      3시 이후에 직접 건강상태를 확인하고 자가진단을 해주세요. 자동으로 진행된 자가진단 결과를
      덮어쓰고 저장합니다.
    </p>
    <h2 class="title is-5">궁금한 점이 있어요!</h2>
    <p>
      개발자 메일(hando1220@naver.com)으로 연락해주세요!
    </p>
  </div>
</div>

<div class="box">
  <form action="./add" method="POST">
    <div class="field">
      <label class="label" for="schulNm">학교명</label>
      <input class="input" type="hidden" id="schulCode" name="schulCode" placeholder="학교 코드" />
      <div class="field has-addons">
        <div class="control is-expanded">
          <input class="input" type="text" id="schulNm" name="schulNm" placeholder="학교 이름" />
        </div>
        <div class="control">
          <input class="button" type="button" value="학교 찾기" onclick="findSchool()" />
        </div>
      </div>
    </div>

    <div class="field">
      <label class="label" for="pName">이름</label>
      <div class="control">
        <input class="input" type="text" id="name" name="name" placeholder="이름" />
      </div>
    </div>
    <label class="label" for="birth">생년월일</label>
    <div class="field">
      <div class="control is-expanded">
        <input
          class="input"
          type="text"
          maxlength="6"
          pattern="[0-9]*"
          inputmode="numeric"
          id="birth"
          name="birth"
          placeholder="생년월일"
        />
      </div>
      <p class="help">*주민등록번호 앞자리 6자리</p>
    </div>
    <div class="field">
      <div class="control">
        <div class="buttons is-right">
          <input class="button is-primary" type="submit" value="등록하기" />
        </div>
      </div>
    </div>
  </form>
</div>

<script type="text/javascript">
  document.addEventListener(
    "keydown",
    function (event) {
      if (event.keyCode === 13) {
        event.preventDefault();
        findSchool();
      }
    },
    true
  );

  function setSchool(schulCode, schulNm) {
    document.querySelector("#schulCode").value = schulCode;
    document.querySelector("#schulNm").value = schulNm;
  }

  let openWin;
  function findSchool() {
    window.name = "parentForm";
    openWin = window.open(
      "./find?q=" + document.getElementById("schulNm").value,
      "childForm",
      "width=570,height=350"
    );
  }
</script>
